PROJECT(OSG_Thirdparty_Android)
CMAKE_MINIMUM_REQUIRED(VERSION 3.10)
SET(CMAKE_CXX_STANDARD 14)
SET(CMAKE_CXX_STANDARD_REQUIRED ON)
SET(CMAKE_CXX_EXTENSIONS OFF)

GET_FILENAME_COMPONENT(OSG_3RDPARTY_SOURCE_DIR ../../helpers/toolchain_builder ABSOLUTE)
GET_FILENAME_COMPONENT(OSG_3RDPARTY_BUILD_DIR ../../build/3rdparty_android ABSOLUTE)
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY "${OSG_3RDPARTY_BUILD_DIR}/bin/${CMAKE_BUILD_TYPE}/${CMAKE_ANDROID_ARCH_ABI}")
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY "${OSG_3RDPARTY_BUILD_DIR}/lib/${CMAKE_BUILD_TYPE}/${CMAKE_ANDROID_ARCH_ABI}")
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY "${OSG_3RDPARTY_BUILD_DIR}/lib/${CMAKE_BUILD_TYPE}/${CMAKE_ANDROID_ARCH_ABI}")
#FILE(MAKE_DIRECTORY ${OSG_3RDPARTY_BUILD_DIR})

OPTION(ARM_HOST "Check if running on ARM host" OFF)
IF(ARM_HOST)
    ADD_DEFINITIONS(-DPNG_ARM_NEON_IMPLEMENTATION=2)  # disable NEON at present
ENDIF(ARM_HOST)
ADD_SUBDIRECTORY(${OSG_3RDPARTY_SOURCE_DIR} ${OSG_3RDPARTY_BUILD_DIR})
